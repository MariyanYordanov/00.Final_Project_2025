import{b as k,d as s,f as j,g as x,j as V,k as U,l as z,q as W,s as Z}from"./chunk-AUDAITUP.js";import{a as O}from"./chunk-GVQVI2L6.js";import{e as T,k as q,v as K,x as M,y as G}from"./chunk-PT5BEB6V.js";import{Ab as o,D as I,Lb as L,Sa as n,Xa as h,Yb as f,_b as r,ac as P,cb as D,hb as d,j as R,x as A,xb as m,yb as t,zb as u}from"./chunk-AAMWR3CC.js";import"./chunk-4CLCTAJ7.js";function te(i,l){i&1&&(t(0,"div",24),r(1," \u041C\u043E\u043B\u044F \u0432\u044A\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u043B\u0438\u0434\u0435\u043D email \u0430\u0434\u0440\u0435\u0441 "),u())}function re(i,l){i&1&&(t(0,"div",24),r(1," \u041F\u0430\u0440\u043E\u043B\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u0430 "),u())}function ne(i,l){i&1&&o(0,"span",25)}function oe(i,l){i&1&&o(0,"i",4)}var $=class i{constructor(l,a,e,p){this.fb=l;this.authService=a;this.router=e;this.route=p;this.loginForm=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required]]})}loginForm;isLoading=!1;returnUrl="/families";ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/families",this.authService.isAuthenticated()&&this.router.navigate([this.returnUrl])}onSubmit(){if(this.loginForm.valid){this.isLoading=!0;let l=this.loginForm.value;this.authService.login(l).pipe(A(a=>(console.error("Login error:",a),alert(a.error?.message||"\u0413\u0440\u0435\u0448\u043A\u0430 \u043F\u0440\u0438 \u0432\u043B\u0438\u0437\u0430\u043D\u0435. \u041C\u043E\u043B\u044F \u043E\u043F\u0438\u0442\u0430\u0439\u0442\u0435 \u043E\u0442\u043D\u043E\u0432\u043E."),R(null))),I(()=>this.isLoading=!1)).subscribe(a=>{a&&(console.log("Login successful"),this.router.navigate([this.returnUrl]))})}}static \u0275fac=function(a){return new(a||i)(h(W),h(O),h(M),h(K))};static \u0275cmp=D({type:i,selectors:[["app-login"]],decls:39,vars:11,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"mb-0"],[1,"fas","fa-sign-in-alt","me-2"],[1,"mb-0","mt-2","opacity-75"],[1,"p-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],[1,"fas","fa-envelope","me-1"],["type","email","id","email","formControlName","email","placeholder","\u0412\u044A\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u044F email",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"mb-4"],["for","password",1,"form-label"],[1,"fas","fa-lock","me-1"],["type","password","id","password","formControlName","password","placeholder","\u0412\u044A\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u0448\u0430\u0442\u0430 \u043F\u0430\u0440\u043E\u043B\u0430",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","py-2",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fas fa-sign-in-alt me-2",4,"ngIf"],[1,"text-center","mt-4"],["routerLink","/auth/register",1,"text-decoration-none","fw-bold"],[1,"mt-4","p-3","bg-light","rounded"],[1,"text-muted"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(a,e){if(a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4,"i",4),r(5," \u0412\u0445\u043E\u0434 \u0432 World Family "),u(),t(6,"p",5),r(7,"\u0412\u043B\u0435\u0437\u0442\u0435 \u0432 \u0441\u0435\u043C\u0435\u0439\u043D\u0430\u0442\u0430 \u043C\u0440\u0435\u0436\u0430"),u()(),t(8,"div",6)(9,"form",7),L("ngSubmit",function(){return e.onSubmit()}),t(10,"div",8)(11,"label",9),o(12,"i",10),r(13," Email \u0430\u0434\u0440\u0435\u0441 "),u(),o(14,"input",11),d(15,te,2,0,"div",12),u(),t(16,"div",13)(17,"label",14),o(18,"i",15),r(19," \u041F\u0430\u0440\u043E\u043B\u0430 "),u(),o(20,"input",16),d(21,re,2,0,"div",12),u(),t(22,"button",17),d(23,ne,1,0,"span",18)(24,oe,1,0,"i",19),r(25),u()(),t(26,"div",20)(27,"p",3),r(28," \u041D\u044F\u043C\u0430\u0442\u0435 \u0430\u043A\u0430\u0443\u043D\u0442? "),t(29,"a",21),r(30," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0439\u0442\u0435 \u0441\u0435 "),u()()(),t(31,"div",22)(32,"small",23)(33,"strong"),r(34,"\u0414\u0435\u043C\u043E \u0434\u043E\u0441\u0442\u044A\u043F:"),u(),o(35,"br"),r(36," Email: admin@worldfamily.com"),o(37,"br"),r(38," \u041F\u0430\u0440\u043E\u043B\u0430: Admin123 "),u()()()()()),a&2){let p,g,c,v;n(9),m("formGroup",e.loginForm),n(5),f("is-invalid",((p=e.loginForm.get("email"))==null?null:p.invalid)&&((p=e.loginForm.get("email"))==null?null:p.touched)),n(),m("ngIf",((g=e.loginForm.get("email"))==null?null:g.invalid)&&((g=e.loginForm.get("email"))==null?null:g.touched)),n(5),f("is-invalid",((c=e.loginForm.get("password"))==null?null:c.invalid)&&((c=e.loginForm.get("password"))==null?null:c.touched)),n(),m("ngIf",((v=e.loginForm.get("password"))==null?null:v.invalid)&&((v=e.loginForm.get("password"))==null?null:v.touched)),n(),m("disabled",e.loginForm.invalid||e.isLoading),n(),m("ngIf",e.isLoading),n(),m("ngIf",!e.isLoading),n(),P(" ",e.isLoading?"\u0412\u043B\u0438\u0437\u0430\u043D\u0435...":"\u0412\u043B\u0435\u0437"," ")}},dependencies:[q,T,Z,V,k,j,x,U,z,G],encapsulation:2})};function le(i,l){i&1&&(t(0,"div",37),r(1," \u0418\u043C\u0435\u0442\u043E \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E "),u())}function ae(i,l){i&1&&(t(0,"div",37),r(1," \u041F\u0440\u0435\u0437\u0438\u043C\u0435\u0442\u043E \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E "),u())}function me(i,l){i&1&&(t(0,"div",37),r(1," \u0424\u0430\u043C\u0438\u043B\u0438\u044F\u0442\u0430 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u0430 "),u())}function se(i,l){i&1&&(t(0,"div",37),r(1," \u041C\u043E\u043B\u044F \u0432\u044A\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u043B\u0438\u0434\u0435\u043D email \u0430\u0434\u0440\u0435\u0441 "),u())}function de(i,l){i&1&&(t(0,"div",37),r(1," \u0414\u0430\u0442\u0430\u0442\u0430 \u043D\u0430 \u0440\u0430\u0436\u0434\u0430\u043D\u0435 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u0430 "),u())}function pe(i,l){i&1&&(t(0,"div",37),r(1," \u041F\u0430\u0440\u043E\u043B\u0430\u0442\u0430 \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043F\u043E\u043D\u0435 6 \u0441\u0438\u043C\u0432\u043E\u043B\u0430 "),u())}function fe(i,l){i&1&&(t(0,"div",37),r(1," \u041F\u043E\u0442\u0432\u044A\u0440\u0434\u0435\u043D\u0430\u0442\u0430 \u043F\u0430\u0440\u043E\u043B\u0430 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u0430 "),u())}function ge(i,l){i&1&&(t(0,"div",37),r(1," \u041F\u0430\u0440\u043E\u043B\u0438\u0442\u0435 \u043D\u0435 \u0441\u044A\u0432\u043F\u0430\u0434\u0430\u0442 "),u())}function ce(i,l){i&1&&o(0,"span",38)}function ve(i,l){i&1&&o(0,"i",4)}function he(i){let l=i.get("password"),a=i.get("confirmPassword");return l&&a&&l.value!==a.value?{passwordMismatch:!0}:null}var H=class i{constructor(l,a,e){this.fb=l;this.authService=a;this.router=e;this.registerForm=this.fb.group({firstName:["",[s.required]],middleName:["",[s.required]],lastName:["",[s.required]],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6),s.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{6,}$/)]],confirmPassword:["",[s.required]],dateOfBirth:["",[s.required]]},{validators:he})}registerForm;isLoading=!1;onSubmit(){if(this.registerForm.valid){this.isLoading=!0;let l=this.registerForm.value;this.authService.register(l).pipe(A(a=>(console.error("Register error:",a),alert(a.error?.message||"\u0413\u0440\u0435\u0448\u043A\u0430 \u043F\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F. \u041C\u043E\u043B\u044F \u043E\u043F\u0438\u0442\u0430\u0439\u0442\u0435 \u043E\u0442\u043D\u043E\u0432\u043E."),R(null))),I(()=>this.isLoading=!1)).subscribe(a=>{a&&(console.log("Registration successful"),alert("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F\u0442\u0430 \u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u0430! \u0414\u043E\u0431\u0440\u0435 \u0434\u043E\u0448\u043B\u0438!"),this.router.navigate(["/families"]))})}}static \u0275fac=function(a){return new(a||i)(h(W),h(O),h(M))};static \u0275cmp=D({type:i,selectors:[["app-register"]],decls:64,vars:27,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"mb-0"],[1,"fas","fa-user-plus","me-2"],[1,"mb-0","mt-2","opacity-75"],[1,"p-4"],[3,"ngSubmit","formGroup"],[1,"row","g-3","mb-3"],[1,"col-md-4"],["for","firstName",1,"form-label"],[1,"fas","fa-user","me-1"],["type","text","id","firstName","formControlName","firstName","placeholder","\u0418\u043C\u0435",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","middleName",1,"form-label"],["type","text","id","middleName","formControlName","middleName","placeholder","\u041F\u0440\u0435\u0437\u0438\u043C\u0435",1,"form-control"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","lastName","placeholder","\u0424\u0430\u043C\u0438\u043B\u0438\u044F",1,"form-control"],[1,"mb-3"],["for","email",1,"form-label"],[1,"fas","fa-envelope","me-1"],["type","email","id","email","formControlName","email","placeholder","\u0412\u044A\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u044F email",1,"form-control"],["for","dateOfBirth",1,"form-label"],[1,"fas","fa-calendar","me-1"],["type","date","id","dateOfBirth","formControlName","dateOfBirth","placeholder","\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0434\u0430\u0442\u0430",1,"form-control"],[1,"row","g-3","mb-4"],[1,"col-md-6"],["for","password",1,"form-label"],[1,"fas","fa-lock","me-1"],["type","password","id","password","formControlName","password","placeholder","\u0412\u044A\u0432\u0435\u0434\u0435\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u0430",1,"form-control"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","\u041F\u043E\u0442\u0432\u044A\u0440\u0434\u0435\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u0430\u0442\u0430",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","py-2",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fas fa-user-plus me-2",4,"ngIf"],[1,"text-center","mt-4"],["routerLink","/auth/login",1,"text-decoration-none","fw-bold"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(a,e){if(a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4,"i",4),r(5," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F \u0432 World Family "),u(),t(6,"p",5),r(7,"\u0421\u044A\u0437\u0434\u0430\u0439\u0442\u0435 \u0430\u043A\u0430\u0443\u043D\u0442 \u0437\u0430 \u0441\u0435\u043C\u0435\u0439\u043D\u0430\u0442\u0430 \u043C\u0440\u0435\u0436\u0430"),u()(),t(8,"div",6)(9,"form",7),L("ngSubmit",function(){return e.onSubmit()}),t(10,"div",8)(11,"div",9)(12,"label",10),o(13,"i",11),r(14," \u0418\u043C\u0435 * "),u(),o(15,"input",12),d(16,le,2,0,"div",13),u(),t(17,"div",9)(18,"label",14),o(19,"i",11),r(20," \u041F\u0440\u0435\u0437\u0438\u043C\u0435 * "),u(),o(21,"input",15),d(22,ae,2,0,"div",13),u(),t(23,"div",9)(24,"label",16),o(25,"i",11),r(26," \u0424\u0430\u043C\u0438\u043B\u0438\u044F * "),u(),o(27,"input",17),d(28,me,2,0,"div",13),u()(),t(29,"div",18)(30,"label",19),o(31,"i",20),r(32," Email \u0430\u0434\u0440\u0435\u0441 * "),u(),o(33,"input",21),d(34,se,2,0,"div",13),u(),t(35,"div",18)(36,"label",22),o(37,"i",23),r(38," \u0414\u0430\u0442\u0430 \u043D\u0430 \u0440\u0430\u0436\u0434\u0430\u043D\u0435 * "),u(),o(39,"input",24),d(40,de,2,0,"div",13),u(),t(41,"div",25)(42,"div",26)(43,"label",27),o(44,"i",28),r(45," \u041F\u0430\u0440\u043E\u043B\u0430 * "),u(),o(46,"input",29),d(47,pe,2,0,"div",13),u(),t(48,"div",26)(49,"label",30),o(50,"i",28),r(51," \u041F\u043E\u0442\u0432\u044A\u0440\u0434\u0435\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u0430\u0442\u0430 * "),u(),o(52,"input",31),d(53,fe,2,0,"div",13)(54,ge,2,0,"div",13),u()(),t(55,"button",32),d(56,ce,1,0,"span",33)(57,ve,1,0,"i",34),r(58),u()(),t(59,"div",35)(60,"p",3),r(61," \u0412\u0435\u0447\u0435 \u0438\u043C\u0430\u0442\u0435 \u0430\u043A\u0430\u0443\u043D\u0442? "),t(62,"a",36),r(63," \u0412\u043B\u0435\u0437\u0442\u0435 "),u()()()()()()),a&2){let p,g,c,v,_,b,E,C,S,B,N,w,F,y,J;n(9),m("formGroup",e.registerForm),n(6),f("is-invalid",((p=e.registerForm.get("firstName"))==null?null:p.invalid)&&((p=e.registerForm.get("firstName"))==null?null:p.touched)),n(),m("ngIf",((g=e.registerForm.get("firstName"))==null?null:g.invalid)&&((g=e.registerForm.get("firstName"))==null?null:g.touched)),n(5),f("is-invalid",((c=e.registerForm.get("middleName"))==null?null:c.invalid)&&((c=e.registerForm.get("middleName"))==null?null:c.touched)),n(),m("ngIf",((v=e.registerForm.get("middleName"))==null?null:v.invalid)&&((v=e.registerForm.get("middleName"))==null?null:v.touched)),n(5),f("is-invalid",((_=e.registerForm.get("lastName"))==null?null:_.invalid)&&((_=e.registerForm.get("lastName"))==null?null:_.touched)),n(),m("ngIf",((b=e.registerForm.get("lastName"))==null?null:b.invalid)&&((b=e.registerForm.get("lastName"))==null?null:b.touched)),n(5),f("is-invalid",((E=e.registerForm.get("email"))==null?null:E.invalid)&&((E=e.registerForm.get("email"))==null?null:E.touched)),n(),m("ngIf",((C=e.registerForm.get("email"))==null?null:C.invalid)&&((C=e.registerForm.get("email"))==null?null:C.touched)),n(5),f("is-invalid",((S=e.registerForm.get("dateOfBirth"))==null?null:S.invalid)&&((S=e.registerForm.get("dateOfBirth"))==null?null:S.touched)),n(),m("ngIf",((B=e.registerForm.get("dateOfBirth"))==null?null:B.invalid)&&((B=e.registerForm.get("dateOfBirth"))==null?null:B.touched)),n(6),f("is-invalid",((N=e.registerForm.get("password"))==null?null:N.invalid)&&((N=e.registerForm.get("password"))==null?null:N.touched)),n(),m("ngIf",((w=e.registerForm.get("password"))==null?null:w.invalid)&&((w=e.registerForm.get("password"))==null?null:w.touched)),n(5),f("is-invalid",((F=e.registerForm.get("confirmPassword"))==null?null:F.invalid)&&((F=e.registerForm.get("confirmPassword"))==null?null:F.touched)||e.registerForm.hasError("passwordMismatch")&&((F=e.registerForm.get("confirmPassword"))==null?null:F.touched)),n(),m("ngIf",((y=e.registerForm.get("confirmPassword"))==null?null:y.invalid)&&((y=e.registerForm.get("confirmPassword"))==null?null:y.touched)),n(),m("ngIf",e.registerForm.hasError("passwordMismatch")&&((J=e.registerForm.get("confirmPassword"))==null?null:J.touched)),n(),m("disabled",e.registerForm.invalid||e.isLoading),n(),m("ngIf",e.isLoading),n(),m("ngIf",!e.isLoading),n(),P(" ",e.isLoading?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043D\u0435...":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0439 \u0441\u0435"," ")}},dependencies:[q,T,Z,V,k,j,x,U,z,G],encapsulation:2})};var je=[{path:"login",component:$},{path:"register",component:H},{path:"",redirectTo:"login",pathMatch:"full"}];export{je as authRoutes};
