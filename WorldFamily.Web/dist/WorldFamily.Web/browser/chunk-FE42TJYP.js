import{a as J,b as K}from"./chunk-7G3PKSSV.js";import{a as G}from"./chunk-LC6B2GZH.js";import{a as U,b as q}from"./chunk-XUDR7UJO.js";import{a as w,b as L,c as F,d as T,e as N,f as $,g as R,h as V,i as H}from"./chunk-ZDLTPOFL.js";import{W as j,X as z}from"./chunk-6DOHFCOB.js";import{a as k,d as B}from"./chunk-XTCHCJBU.js";import{i as I,l as P,n as A}from"./chunk-P3IMMIVJ.js";import{Ab as u,Bb as n,Cb as e,Db as E,Kb as y,Ob as D,P as x,Qb as m,Sa as a,Xa as g,cb as h,cc as t,da as M,dc as l,ea as C,ec as f,f as v,ib as c,mc as s,nc as p,oc as O,pc as b,qc as S}from"./chunk-3PJXDOL5.js";import"./chunk-4CLCTAJ7.js";var _=r=>["/families",r];function X(r,o){r&1&&(n(0,"div",4),E(1,"mat-spinner"),n(2,"p"),t(3,"\u0417\u0430\u0440\u0435\u0436\u0434\u0430\u043D\u0435 \u043D\u0430 \u0447\u043B\u0435\u043D..."),e()())}function Y(r,o){if(r&1){let i=y();n(0,"div",5)(1,"mat-icon",6),t(2,"error"),e(),n(3,"p"),t(4),e(),n(5,"button",7),D("click",function(){M(i);let W=m();return C(W.loadMember())}),t(6," \u041E\u043F\u0438\u0442\u0430\u0439\u0442\u0435 \u043E\u0442\u043D\u043E\u0432\u043E "),e()()}if(r&2){let i=m();a(4),l(i.error)}}function Z(r,o){if(r&1&&(n(0,"div",18)(1,"div",19)(2,"mat-icon"),t(3,"person"),e(),n(4,"span",20),t(5,"\u041F\u043E\u043B:"),e(),n(6,"span",21),t(7),e()()()),r&2){let i=m(2);a(7),l(i.member.gender==="Male"?"\u041C\u044A\u0436":"\u0416\u0435\u043D\u0430")}}function ee(r,o){if(r&1&&(n(0,"div",18)(1,"div",19)(2,"mat-icon"),t(3,"cake"),e(),n(4,"span",20),t(5,"\u0414\u0430\u0442\u0430 \u043D\u0430 \u0440\u0430\u0436\u0434\u0430\u043D\u0435:"),e(),n(6,"span",21),t(7),p(8,"date"),e()(),n(9,"div",19)(10,"mat-icon"),t(11,"schedule"),e(),n(12,"span",20),t(13,"\u0412\u044A\u0437\u0440\u0430\u0441\u0442:"),e(),n(14,"span",21),t(15),p(16,"memberAge"),e()()()),r&2){let i=m(2);a(7),l(b(8,2,i.member.dateOfBirth,"dd.MM.yyyy")),a(8),l(O(16,5,i.member.dateOfBirth))}}function te(r,o){if(r&1&&(n(0,"div",18)(1,"div",19)(2,"mat-icon"),t(3,"place"),e(),n(4,"span",20),t(5,"\u041C\u044F\u0441\u0442\u043E \u043D\u0430 \u0440\u0430\u0436\u0434\u0430\u043D\u0435:"),e(),n(6,"span",21),t(7),e()()()),r&2){let i=m(2);a(7),l(i.member.placeOfBirth)}}function ie(r,o){if(r&1&&(n(0,"div",19)(1,"mat-icon"),t(2,"place"),e(),n(3,"span",20),t(4,"\u041C\u044F\u0441\u0442\u043E \u043D\u0430 \u0441\u043C\u044A\u0440\u0442:"),e(),n(5,"span",21),t(6),e()()),r&2){let i=m(3);a(6),l(i.member.placeOfDeath)}}function ne(r,o){if(r&1&&(n(0,"div",18)(1,"div",19)(2,"mat-icon"),t(3,"event_busy"),e(),n(4,"span",20),t(5,"\u0414\u0430\u0442\u0430 \u043D\u0430 \u0441\u043C\u044A\u0440\u0442:"),e(),n(6,"span",21),t(7),p(8,"date"),e()(),c(9,ie,7,1,"div",22),e()),r&2){let i=m(2);a(7),l(b(8,2,i.member.dateOfDeath,"dd.MM.yyyy")),a(2),u("ngIf",i.member.placeOfDeath)}}function re(r,o){if(r&1&&(n(0,"div",23)(1,"h3")(2,"mat-icon"),t(3,"auto_stories"),e(),t(4," \u0411\u0438\u043E\u0433\u0440\u0430\u0444\u0438\u044F"),e(),n(5,"p",24),t(6),e()()),r&2){let i=m(2);a(6),l(i.member.biography)}}function ae(r,o){if(r&1&&(n(0,"div")(1,"div",8)(2,"button",9)(3,"mat-icon"),t(4,"arrow_back"),e(),t(5," \u041E\u0431\u0440\u0430\u0442\u043D\u043E \u043A\u044A\u043C \u0441\u0435\u043C\u0435\u0439\u0441\u0442\u0432\u043E\u0442\u043E "),e(),n(6,"mat-card",10)(7,"mat-card-header")(8,"mat-card-title"),t(9),p(10,"fullName"),e(),n(11,"mat-card-subtitle"),t(12),e()(),n(13,"mat-card-content")(14,"div",11),c(15,Z,8,1,"div",12)(16,ee,17,7,"div",12)(17,te,8,1,"div",12)(18,ne,10,5,"div",12),n(19,"div",13)(20,"h3")(21,"mat-icon"),t(22,"family_restroom"),e(),t(23," \u0420\u043E\u0434\u043D\u0438\u043D\u0441\u043A\u0438 \u0432\u0440\u044A\u0437\u043A\u0438"),e(),n(24,"div",14)(25,"mat-icon"),t(26,"info"),e(),n(27,"p"),t(28,"\u0420\u043E\u0434\u043D\u0438\u043D\u0441\u043A\u0438\u0442\u0435 \u0432\u0440\u044A\u0437\u043A\u0438 \u0449\u0435 \u0431\u044A\u0434\u0430\u0442 \u0434\u043E\u0431\u0430\u0432\u0435\u043D\u0438 \u0432 \u0441\u043B\u0435\u0434\u0432\u0430\u0449\u0430 \u0432\u0435\u0440\u0441\u0438\u044F. \u0417\u0430\u0441\u0435\u0433\u0430 \u043C\u043E\u0436\u0435\u0442\u0435 \u0434\u0430 \u0432\u0438\u0434\u0438\u0442\u0435 \u0432\u0441\u0438\u0447\u043A\u0438 \u0447\u043B\u0435\u043D\u043E\u0432\u0435 \u043D\u0430 \u0441\u0435\u043C\u0435\u0439\u0441\u0442\u0432\u043E\u0442\u043E."),e(),n(29,"button",15)(30,"mat-icon"),t(31,"people"),e(),t(32," \u0412\u0438\u0436 \u0432\u0441\u0438\u0447\u043A\u0438 \u0447\u043B\u0435\u043D\u043E\u0432\u0435 "),e()()(),c(33,re,7,1,"div",16),e()(),n(34,"mat-card-actions")(35,"button",17)(36,"mat-icon"),t(37,"family_restroom"),e(),t(38," \u0412\u0438\u0436 \u0441\u0435\u043C\u0435\u0439\u0441\u0442\u0432\u043E\u0442\u043E "),e()()()()()),r&2){let i=m();a(2),u("routerLink",s(14,_,i.member.familyId)),a(7),f(" ",S(10,10,i.member.firstName,i.member.middleName,i.member.lastName)," "),a(3),f(" \u0427\u043B\u0435\u043D \u043D\u0430 ",i.member.familyName," "),a(3),u("ngIf",i.member.gender),a(),u("ngIf",i.member.dateOfBirth),a(),u("ngIf",i.member.placeOfBirth),a(),u("ngIf",i.member.dateOfDeath),a(11),u("routerLink",s(16,_,i.member.familyId)),a(4),u("ngIf",i.member.biography),a(2),u("routerLink",s(18,_,i.member.familyId))}}var Q=class r{constructor(o,i){this.route=o;this.memberService=i}destroy$=new v;member=null;isLoading=!0;error=null;memberId=0;ngOnInit(){this.route.params.pipe(x(this.destroy$)).subscribe(o=>{this.memberId=+o.id,this.memberId?this.loadMember():(this.error="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0438\u0434\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440 \u043D\u0430 \u0447\u043B\u0435\u043D",this.isLoading=!1)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadMember(){this.isLoading=!0,this.error=null,this.memberService.getMemberById(this.memberId).pipe(x(this.destroy$)).subscribe({next:o=>{this.member=o,this.isLoading=!1},error:o=>{this.isLoading=!1,this.error="\u0427\u043B\u0435\u043D\u044A\u0442 \u043D\u0435 \u0435 \u043D\u0430\u043C\u0435\u0440\u0435\u043D \u0438\u043B\u0438 \u0432\u044A\u0437\u043D\u0438\u043A\u043D\u0430 \u0433\u0440\u0435\u0448\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0440\u0435\u0436\u0434\u0430\u043D\u0435\u0442\u043E.",console.error("Error loading member:",o)}})}static \u0275fac=function(i){return new(i||r)(g(k),g(G))};static \u0275cmp=h({type:r,selectors:[["app-member-details"]],decls:4,vars:3,consts:[[1,"details-container"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"error-container"],["color","warn"],["mat-raised-button","","color","primary",3,"click"],[1,"member-header"],["mat-button","",1,"back-button",3,"routerLink"],[1,"member-card"],[1,"member-details"],["class","detail-section",4,"ngIf"],[1,"relationships-section"],[1,"relationship-hint"],["mat-stroked-button","","color","primary",3,"routerLink"],["class","biography-section",4,"ngIf"],["mat-button","","color","primary",3,"routerLink"],[1,"detail-section"],[1,"detail-item"],[1,"label"],[1,"value"],["class","detail-item",4,"ngIf"],[1,"biography-section"],[1,"biography-text"]],template:function(i,d){i&1&&(n(0,"div",0),c(1,X,4,0,"div",1)(2,Y,7,1,"div",2)(3,ae,39,20,"div",3),e()),i&2&&(a(),u("ngIf",d.isLoading),a(),u("ngIf",d.error),a(),u("ngIf",d.member&&!d.isLoading&&!d.error))},dependencies:[A,I,B,R,w,N,F,$,T,L,z,j,q,U,H,V,P,J,K],styles:[".details-container[_ngcontent-%COMP%]{padding:24px;max-width:800px;margin:0 auto}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{text-align:center;padding:48px 24px}.loading-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:0 auto 16px}.error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;margin-bottom:16px}.back-button[_ngcontent-%COMP%]{margin-bottom:16px}.member-card[_ngcontent-%COMP%]{margin-bottom:32px}.member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.detail-section[_ngcontent-%COMP%]{border-left:4px solid #1976d2;padding-left:16px;display:flex;flex-direction:column;gap:12px}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;color:#666}.label[_ngcontent-%COMP%]{font-weight:500;color:#333;min-width:120px}.value[_ngcontent-%COMP%]{color:#666}.relationships-section[_ngcontent-%COMP%]{background-color:#e8f5e8;padding:16px;border-radius:8px;border:1px solid #4caf50}.relationships-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 12px;color:#333}.relationship-hint[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:12px}.relationship-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50;font-size:24px;height:24px;width:24px}.relationship-hint[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;line-height:1.4}.biography-section[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:16px;border-radius:8px}.biography-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 12px;color:#333}.biography-text[_ngcontent-%COMP%]{line-height:1.6;color:#666;margin:0}@media (max-width: 768px){.details-container[_ngcontent-%COMP%]{padding:16px}.detail-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.label[_ngcontent-%COMP%]{min-width:auto}}"]})};export{Q as MemberDetailsComponent};
